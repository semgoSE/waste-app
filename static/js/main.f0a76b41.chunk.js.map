{"version":3,"sources":["img/glass.png","img/paper.png","img/other.png","panels/PopoutError.js","App.js","index.js","img/plastic.png","img/metal.png","img/bin.png"],"names":["module","exports","PopoutError","src","name","description","kg","onClose","onClick","style","border","backgroundColor","align","level","weight","mode","size","marginTop","padding","api","VKMiniAppAPI","url","App","props","openImage","img","showImages","put","e","state","disabled","setState","popout","trash","currentTarget","dataset","axios","post","JSON","stringify","type","waste_id","item","window","location","href","then","response","console","log","data","status","res","item_className","setTimeout","activePanel","activeView","activeModal","user","setInterval","this","id","header","aside","k","marginBottom","mass","marginLeft","marginRight","margin","display","className","top","data-trash","plastic","metal","organic","glass","paper","other","React","Component","bridge","send","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f0a76b41.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/glass.3168a39b.png\";","module.exports = __webpack_public_path__ + \"static/media/paper.532879c5.png\";","module.exports = __webpack_public_path__ + \"static/media/other.eba8e967.png\";","import React from 'react';\r\nimport { Headline, Title, Div, Card, Avatar, PopoutWrapper } from '@vkontakte/vkui';\r\n\r\nconst PopoutError = ({src, name, description,kg, onClose}) => (\r\n    <PopoutWrapper onClick={onClose}>\r\n    <Card style={{border:\"1px solid  #F66565\", backgroundColor:'#C66363'}}>\r\n      <Div align=\"center\">\r\n          <Title level={3} weight=\"heavy\">Ошибочка</Title>\r\n          <Avatar src={src} mode='image' size={56} style={{marginTop:10}}/>\r\n          <h1>{name}</h1>\r\n          <p style={{padding:6}}>\r\n             {description}\r\n          </p>\r\n           <Headline>\r\n             {\"-\"+kg+\" кг\"}\r\n           </Headline>\r\n      </Div>\r\n    </Card>\r\n\r\n</PopoutWrapper>\r\n);\r\n\r\nexport default PopoutError;","import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport Icon28Play from '@vkontakte/icons/dist/28/play';\nimport Icon28MoneySendOutline from '@vkontakte/icons/dist/28/money_send_outline';\nimport Icon28MoneyRequestOutline from '@vkontakte/icons/dist/28/money_request_outline';\nimport {View, Panel, PanelHeaderSimple, Card, Avatar, Cell, Title, Div, CardGrid, PopoutWrapper, Headline, Header, Spinner, FormLayoutGroup, Group, Counter, ScreenSpinner} from '@vkontakte/vkui';\n\nimport plastic from './img/plastic.png'\nimport metal from './img/metal.png';\nimport organic from './img/bin.png';\nimport glass from './img/glass.png';\nimport paper from './img/paper.png';\nimport other from './img/other.png';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './vivify.min.css';\n\nimport PopoutError from './panels/PopoutError';\n\nimport { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api';\nimport axios from 'axios';\n\nconst api = new VKMiniAppAPI();\n\nconst url = \"https://vkgamewasteapp.000webhostapp.com/\";\n\nconst colors = [\n\t{color:'#fff'},\n\t{color:'#ccc'},\n\t{color:'#bbf'},\n\t{color:null},\n\t{color:null},\n\t{color:null}\n]\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t   activePanel:'game',\n\t\t   activeView:'game',\n\t\t   activeModal:null,\n\t\t   item_className:\"\",\n\t\t   disabled:true,\n\t\t   user:null,\n           item:null\n\t\t}\n\t}\n\t \n\tcomponentDidMount() {\n      axios.post(url, JSON.stringify({type:'get_random_card', url:window.location.href})).then(res => {\n\t\t  this.setState({item:res.data});\n\t  })\n\n\n\t  setInterval(() => {\n\t\t  axios.post(url, JSON.stringify({type:'tick', url:window.location.href})).then(res=>{\n\t\t\t  this.setState({user:res.data})\n\t\t  })\n\t  }, 1000)\n\t}\n\n\n\topenImage = (img) => {\n      api.showImages([img]);\n\t}\n\n\tput = (e) => {\n\t  //\n\t // this.setState({item_className:\"vivify ball duration-1000\"});\n\t  //setTimeout(() => {\n\t\t  if(this.state.disabled) {\n\t\t\t  this.setState({disabled:false, popout:<ScreenSpinner />})\n\t\t  let trash = e.currentTarget.dataset.trash;\n\t\t  axios.post(url, JSON.stringify({type:'check_post', trash:trash, waste_id:this.state.item.waste_id, url:window.location.href}))\n\t\t  .then((response) => {\n\n\t\t\t  console.log(response);\n\t\t\t  if(response.data.status == 'success') {\n\t\t\t\taxios.post(url, JSON.stringify({type:'get_random_card', url:window.location.href})).then(res => {\n\t\t\t\t\tthis.setState({item_className:\"vivify popOutBottom duration-550\", popout:null})\n\t\n\t\t\t\t\t//this.setState({item:res.data});\n\t\t\t\t\tsetTimeout(() => {this.setState({item:res.data, disabled:true, item_className:\"vivify popInLeft\"})}, 550)\n\t\t\t\t})\n\t\t\t  }else {\n\t\t\t\tthis.setState({item_className:\"vivify popOutTop duration-550\", popout:null});\n\t\t\t\tsetTimeout(() => {this.setState({popout:<PopoutError name={this.state.item.name} description={response.data.description} src={this.state.item.img} kg={response.data.kg} onClose={()=>this.setState({popout:null,disabled:true, item_className:\"vivify popInLeft\"})}/>})}, 550);\n\t\t\t\taxios.post(url, JSON.stringify({type:'get_random_card', url:window.location.href})).then(res => {\n\t\t\t\t\t//this.setState({item_className:\"vivify popOutBottom duration-550\"})\n\t\t\t\n\t\t\t\t\tsetTimeout(() => {this.setState({item:res.data})}, 550)\n\t\t\t\t})\n\t\t\t\t//setTimeout(() =>{this.setState({item_className:\"vivify popInLeft\"})}, 550)\n\t\t\t  }\n\t\t  })\n\t\t  //this.setState({item_className:\"vivify popOutBottom duration-550\"})\n\t\t  //setTimeout(() =>{this.setState({item_className:\"vivify popInLeft\"})}, 550)\n\t\t//}, 1000)\n\t  //\n\t  }\n\t}\n\n\n\trender() {\n\t\tconst { activePanel, user, activeView, activeModal, item, popout } = this.state;\n\t\treturn (\n\t\n\t\t\t<View id='game' activePanel='game' header={false} popout={popout}>\n\t\t\t<Panel id='game'>\n                <PanelHeaderSimple>Игра</PanelHeaderSimple>\n\t\t<Group header={<Header mode='secondary' aside={<Counter mode='primary'>{user == null ? <Spinner size='small' /> : user.k+\" кг/c\"}</Counter>}>Счет</Header>} align='center' style={{marginBottom:10}}>\n\t\t\t\t  {user == null ? <Spinner size='medium' /> :\n                  <Title level={1} weight=\"heavy\">{user.mass+\" кг\"}</Title>\n\t\t\t\t  }\n\t\t\t\t </Group>\n\t\t\t\t<div align='center' style={{marginBottom:10, marginLeft:30, marginRight:30}}>\n\t\t\t\t<CardGrid style={{margin:'0 auto', display:'block'}}>\t\n\t\t\t\t{item == null ? <Spinner size='large'/>:\n                <Card size=\"l\" mode=\"outline\" className={this.state.item_className} id='item'>\n\t\t\t\t  <div>\t\n\t\t\t\t\t<Avatar style={{top:10}} src={url+item.img} mode=\"image\" size={64} onClick={()=>this.openImage(item.img)}/>\n\t\t\t\t\t<Title weight='semibold' level={2} style={{padding:15}}>{item.name}</Title>\n\t\t\t\t  </div>\t\n\t\t\t\t</Card>\n            \t}\n\t\t\t\t</CardGrid>\n\t\t\t\t</div>\n\n\t\t\t\t<CardGrid>\n\t\t\t\t\t<Card size='s' onClick={this.put} data-trash=\"plastic\" style={{backgroundColor:'#F19356'}}>\n                      <Div align='center'>\n\t\t\t\t\t\t  <Avatar src={plastic} style={{top:10}}/>\n                          <p>Пластик</p>\n\t\t\t\t\t  </Div>\n\t\t\t\t\t</Card>\n\n\t\t\t\t\t<Card size='s'>\n\t\t\t\t\t<Div align='center' onClick={this.put} data-trash=\"metal\" style={{backgroundColor:'#D1CB73'}}>\n\t\t\t\t\t\t  <Avatar src={metal} style={{top:10}}/>\n                          <p>Металл</p>\n\t\t\t\t\t</Div>\n\t\t\t\t\t</Card>\n\n\t\t\t\t\t<Card size='s' onClick={this.put} data-trash=\"organic\" style={{backgroundColor:'#68B1E5'}}>\n\t\t\t\t<Div align='center'>\n\t\t\t\t\t\t  <Avatar src={organic} style={{top:10}}/>\n                          <p>Органика</p>\n\t\t\t\t\t</Div>\n\t\t\t\t\t</Card>\n\t\t\t\t</CardGrid>\n\n\t\t\t\t<CardGrid>\n\n\n\t\t\t\t\t<Card size='s' onClick={this.put} data-trash=\"glass\" style={{backgroundColor:'#68E5C4'}}>\n\t\t\t\t\t<Div align='center'>\n\t\t\t\t\t\t  <Avatar src={glass} style={{top:10}}/>\n                          <p>Стекло</p>\n\t\t\t\t\t</Div>\n\t\t\t\t\t</Card>\n\n\t\t\t\t\t<Card size='s' onClick={this.put} data-trash=\"paper\" style={{backgroundColor:'#BEF264'}}>\n\t\t\t\t\t<Div align='center'>\n\t\t\t\t\t\t  <Avatar src={paper} style={{top:10}}/>\n                          <p>Бумага</p>\n\t\t\t\t\t</Div>\n\t\t\t\t\t</Card>\n\n\t\t\t\t\t<Card size='s' onClick={this.put} data-trash=\"other\" style={{backgroundColor:'#84887D'}}>\n\t\t\t\t\t<Div align='center'>\n\t\t\t\t\t\t  <Avatar src={other} style={{top:10}}/>\n                          <p>Другое</p>\n\t\t\t\t\t</Div>\n\t\t\t\t\t</Card>\n\t\t\t\t</CardGrid>\n\n\n            </Panel>\n\t\t\t</View>\n\t\t\n\t\t)\n\t}\n}\n\nexport default App;\n\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n","module.exports = __webpack_public_path__ + \"static/media/plastic.de4a7505.png\";","module.exports = __webpack_public_path__ + \"static/media/metal.86c04338.png\";","module.exports = __webpack_public_path__ + \"static/media/bin.303e24db.png\";"],"sourceRoot":""}