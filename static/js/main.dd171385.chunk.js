(this.webpackJsonpvk_game=this.webpackJsonpvk_game||[]).push([[0],{102:function(e,t,a){e.exports=a.p+"static/media/plastic.de4a7505.png"},103:function(e,t,a){e.exports=a.p+"static/media/metal.86c04338.png"},104:function(e,t,a){e.exports=a.p+"static/media/bin.303e24db.png"},105:function(e,t,a){e.exports=a.p+"static/media/glass.3168a39b.png"},106:function(e,t,a){e.exports=a.p+"static/media/paper.532879c5.png"},107:function(e,t,a){e.exports=a.p+"static/media/other.eba8e967.png"},170:function(e,t,a){e.exports=a(279)},261:function(e,t,a){},279:function(e,t,a){"use strict";a.r(t);a(171),a(197),a(199),a(200),a(202),a(203),a(204),a(205),a(206),a(207),a(208),a(209),a(211),a(212),a(213),a(214),a(215),a(216),a(217),a(218),a(219),a(220),a(222),a(223),a(224),a(225),a(226),a(227),a(228),a(229),a(230),a(231),a(232),a(233),a(234),a(235),a(236),a(237),a(238),a(239);var n=a(0),l=a.n(n),i=a(90),r=a.n(i),c=a(35),s=a.n(c),o=a(111),m=a(91),p=a(92),u=a(112),d=a(110),g=(a(247),a(249),a(250),a(4)),E=a(102),h=a.n(E),f=a(103),y=a.n(f),v=a(104),k=a.n(v),b=a(105),C=a.n(b),w=a(106),_=a.n(w),x=a(107),S=a.n(x),z=(a(260),a(261),a(108)),T=a.n(z),N=function(e){var t=e.src,a=e.name,n=e.description,i=e.kg,r=e.onClose,c=e.share;return l.a.createElement(g.m,{onClick:r},l.a.createElement(g.c,{style:{border:"1px solid  #F66565",backgroundColor:"#C66363"}},l.a.createElement(g.g,{align:"center"},l.a.createElement(g.e,{before:l.a.createElement(g.f,{mode:"prominent"},"!"),asideContent:l.a.createElement(T.a,{fill:"#37200A",onClick:r})},l.a.createElement(g.p,{level:3,weight:"heavy"},"\u041e\u0448\u0438\u0431\u043e\u0447\u043a\u0430")),l.a.createElement(g.a,{src:"https://vkgamewasteapp.000webhostapp.com/"+t,mode:"image",size:56,style:{marginTop:10}}),l.a.createElement("h1",null,a),l.a.createElement("span",{style:{padding:6,display:"block"}},n),l.a.createElement(g.b,{style:{margin:10},onClick:c},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441 \u0434\u0440\u0443\u0437\u044c\u044f\u043c\u0438"),l.a.createElement(g.j,null,"-"+i+" \u043a\u0433"))))},O=a(109),I=a(41),B=a.n(I),j=new O.VKMiniAppAPI,A="https://vkgamewasteapp.000webhostapp.com/",J=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).openImage=function(e){j.showImages([e])},n.put=function(e){if(n.state.disabled){n.setState({disabled:!1,popout:l.a.createElement(g.n,null)});var t=e.currentTarget.dataset.trash;B.a.post(A,JSON.stringify(Object(o.a)({type:"check_post",trash:t},n.state.item,{url:window.location.href}))).then((function(e){console.log(e),"success"==e.data.status?(n.setState({item_className:"vivify popOutBottom duration-550",popout:null}),setTimeout((function(){n.setState({item:e.data.item,disabled:!0})}),400),setTimeout((function(){n.setState({item_className:"vivify popInLeft"})}),550)):(n.setState({item_className:"vivify popOutTop duration-550",popout:null}),setTimeout((function(){n.setState({popout:l.a.createElement(N,{name:n.state.item.name,description:e.data.description,src:n.state.item.img,kg:e.data.kg,onClose:function(){return n.setState({popout:null,disabled:!0,item_className:"vivify popInLeft"})},share:function(){return n.share(e.data)}}),item:e.data.item})}),550))}))}},n.share=function(e){var t=document.createElement("canvas");t.width=1080,t.height=900;var a=t.getContext("2d");a.font="55pt Calibri",a.fillStyle="#000",a.textAlign="center",n.wrapText(a,e.description,540,100,1080,70);var l=t.toDataURL();j.showStoryBox({background_type:"image",url:"https://klike.net/uploads/posts/2019-11/1572778685_5.jpg",stickers:[{sticker_type:"renderable",sticker:{content_type:"image",url:A+e.img,transform:{gravity:"center",translation_y:-.2}}},{sticker_type:"renderable",sticker:{content_type:"image",blob:l,transform:{gravity:"center_bottom"}}}]})},n.state={activePanel:"game",activeView:"game",activeModal:null,item_className:"",disabled:!1,user:null,item:null},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;B.a.post(A,JSON.stringify({type:"get_random_card",url:window.location.href})).then((function(t){e.setState({item:t.data,disabled:!0}),console.log(t)})),setInterval((function(){B.a.post(A,JSON.stringify({type:"tick",url:window.location.href})).then((function(t){e.setState({user:t.data})}))}),1e3)}},{key:"wrapText",value:function(e,t,a,n,l,i){for(var r=t.split(" "),c=r.length,s="",o=0;o<c;o++){var m=s+r[o]+" ";e.measureText(m).width>l?(e.fillText(s,a,n),s=r[o]+" ",n+=i):s=m}e.fillText(s,a,n)}},{key:"render",value:function(){var e=this,t=this.state,a=(t.activePanel,t.user),n=(t.activeView,t.activeModal,t.item),i=t.popout;return l.a.createElement(g.q,{id:"game",activePanel:"game",header:!1,popout:i},l.a.createElement(g.k,{id:"game"},l.a.createElement(g.l,null,"\u0418\u0433\u0440\u0430"),l.a.createElement(g.h,{header:l.a.createElement(g.i,{mode:"secondary",aside:l.a.createElement(g.f,{mode:"primary"},null==a?l.a.createElement(g.o,{size:"small"}):a.k+" \u043a\u0433/c")},"\u0421\u0447\u0435\u0442"),align:"center",style:{marginBottom:10}},null==a?l.a.createElement(g.o,{size:"medium"}):l.a.createElement(g.p,{level:1,weight:"heavy"},a.mass+" \u043a\u0433")),l.a.createElement("div",{align:"center",style:{marginBottom:10,marginLeft:30,marginRight:30}},l.a.createElement(g.d,{style:{margin:"0 auto",display:"block"}},null==n?l.a.createElement(g.o,{size:"large"}):l.a.createElement(g.c,{size:"l",mode:"outline",className:this.state.item_className,id:"item"},l.a.createElement("div",null,l.a.createElement(g.a,{style:{top:10},src:A+n.img,mode:"image",size:64,onClick:function(){return e.openImage(A+n.img)}}),l.a.createElement(g.p,{weight:"semibold",level:2,style:{padding:15}},n.name))))),l.a.createElement(g.d,null,l.a.createElement(g.c,{size:"s",onClick:this.put,"data-trash":"plastic",style:{backgroundColor:"#F19356"}},l.a.createElement(g.g,{align:"center"},l.a.createElement(g.a,{src:h.a,style:{top:10}}),l.a.createElement("p",null,"\u041f\u043b\u0430\u0441\u0442\u0438\u043a"))),l.a.createElement(g.c,{size:"s",style:{backgroundColor:"#D1CB73"}},l.a.createElement(g.g,{align:"center",onClick:this.put,"data-trash":"metal"},l.a.createElement(g.a,{src:y.a,style:{top:10}}),l.a.createElement("p",null,"\u041c\u0435\u0442\u0430\u043b\u043b"))),l.a.createElement(g.c,{size:"s",onClick:this.put,"data-trash":"organic",style:{backgroundColor:"#68B1E5"}},l.a.createElement(g.g,{align:"center"},l.a.createElement(g.a,{src:k.a,style:{top:10}}),l.a.createElement("p",null,"\u041e\u0440\u0433\u0430\u043d\u0438\u043a\u0430")))),l.a.createElement(g.d,null,l.a.createElement(g.c,{size:"s",onClick:this.put,"data-trash":"glass",style:{backgroundColor:"#68E5C4"}},l.a.createElement(g.g,{align:"center"},l.a.createElement(g.a,{src:C.a,style:{top:10}}),l.a.createElement("p",null,"\u0421\u0442\u0435\u043a\u043b\u043e"))),l.a.createElement(g.c,{size:"s",onClick:this.put,"data-trash":"paper",style:{backgroundColor:"#BEF264"}},l.a.createElement(g.g,{align:"center"},l.a.createElement(g.a,{src:_.a,style:{top:10}}),l.a.createElement("p",null,"\u0411\u0443\u043c\u0430\u0433\u0430"))),l.a.createElement(g.c,{size:"s",onClick:this.put,"data-trash":"other",style:{backgroundColor:"#84887D"}},l.a.createElement(g.g,{align:"center"},l.a.createElement(g.a,{src:S.a,style:{top:10}}),l.a.createElement("p",null,"\u0414\u0440\u0443\u0433\u043e\u0435"))))))}}]),a}(l.a.Component);s.a.send("VKWebAppInit"),r.a.render(l.a.createElement(J,null),document.getElementById("root"))}},[[170,1,2]]]);
//# sourceMappingURL=main.dd171385.chunk.js.map